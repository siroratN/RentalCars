{% extends 'layout.html' %}
{% load humanize %}
{% block title %}
  Rental Information
{% endblock title %}
{% block nav %}
  {% include 'nav.html' %}
{% endblock nav %}
{% block content %}

<body class="bg-gray-100">
    <div class="max-w-7xl mx-auto p-6">
        <h1 class="mb-6 text-4xl font-extrabold text-center text-gray-800">ใบเสร็จรับเงิน</h1>
        
        <div class="p-8 bg-white shadow-2xl rounded-lg">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4">Customer Information</h2>
            <div class="space-y-2 text-lg text-gray-600">
                <p><span class="font-bold text-blue-900">ชื่อ:</span> {{ rental.customer.user.first_name }} {{ rental.customer.user.last_name }}</p>
                <p><span class="font-bold text-blue-900">อีเมลล์:</span> {{ rental.customer.user.email }}</p>
                <p><span class="font-bold text-blue-900">สถานะ:</span> <span class="px-2 py-1 rounded-lg bg-blue-100 text-blue-700">{{ rental.status }}</span></p>
                <p><span class="font-bold text-blue-900">ราคาทั้งหมด:</span> {{ rental.total_price|floatformat:0|intcomma }} บาท</p>
                <p><span class="font-bold text-blue-900">เงินมัดจำ:</span> {{ rental.deposit|floatformat:0|intcomma }} บาท</p>

            </div>

            <h3 class="mt-6 text-xl font-semibold text-gray-700">Rented Cars (ID: {{rental.id}})</h3>
            <div class="overflow-hidden rounded-lg shadow-md">
                <table class="min-w-full mt-4 text-left text-gray-600 bg-white">
                    <thead class="text-sm text-gray-700 uppercase bg-blue-200">
                        <tr>
                            <th scope="col" class="px-6 py-3">รหัสรถยนต์</th>
                            <th scope="col" class="px-6 py-3">รถยนต์</th>
                            <th scope="col" class="px-6 py-3">วันเริ่มต้น</th>
                            <th scope="col" class="px-6 py-3">วันสิ้นสุด</th>

                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        {% for i in allren %}
                        <tr class="hover:bg-gray-100 transition-colors">
                            <td class="px-6 py-4 text-gray-900 font-medium">{{ i.car.id }}</td>
                            <td class="px-6 py-4">{{ i.car.make }} {{ i.car.model }}</td>
                            <td class="px-6 py-4">{{ i.start_date|date:"d M Y" }}</td>
                            <td class="px-6 py-4">{{ i.end_date|date:"d M Y" }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</body>

{% endblock content %}
